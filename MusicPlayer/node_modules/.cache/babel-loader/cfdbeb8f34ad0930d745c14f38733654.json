{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\xampp\\\\xamp\\\\htdocs\\\\react-music-player-production\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\taggedTemplateLiteral.js\";import _asyncToGenerator from\"C:\\\\xampp\\\\xamp\\\\htdocs\\\\react-music-player-production\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _objectSpread from\"C:\\\\xampp\\\\xamp\\\\htdocs\\\\react-music-player-production\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\xampp\\\\xamp\\\\htdocs\\\\react-music-player-production\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\xampp\\\\xamp\\\\htdocs\\\\react-music-player-production\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useRef}from\"react\";import styled from\"styled-components\";import\"./App.css\";// Import components\nimport Player from\"./components/Player\";import Song from\"./components/Song\";import Library from\"./components/Library\";import Nav from\"./components/Nav\";import Credit from\"./components/Credit\";// Import data\nimport data from\"./data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// Ref\nvar audioRef=useRef(null);// State\nvar _useState=useState(data()),_useState2=_slicedToArray(_useState,2),songs=_useState2[0],setSongs=_useState2[1];var _useState3=useState(songs[0]),_useState4=_slicedToArray(_useState3,2),currentSong=_useState4[0],setCurrentSong=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPlaying=_useState6[0],setIsPlaying=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),libraryStatus=_useState8[0],setLibraryStatus=_useState8[1];var _useState9=useState({currentTime:0,duration:0}),_useState10=_slicedToArray(_useState9,2),songInfo=_useState10[0],setSongInfo=_useState10[1];// Functions\nvar updateTimeHandler=function updateTimeHandler(e){var currentTime=e.target.currentTime;var duration=e.target.duration;setSongInfo(_objectSpread(_objectSpread({},songInfo),{},{currentTime:currentTime,duration:duration}));};var songEndHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentIndex,nextSong,newSongs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentIndex=songs.findIndex(function(song){return song.id===currentSong.id;});nextSong=songs[(currentIndex+1)%songs.length];_context.next=4;return setCurrentSong(nextSong);case 4:newSongs=songs.map(function(song){if(song.id===nextSong.id){return _objectSpread(_objectSpread({},song),{},{active:true});}else{return _objectSpread(_objectSpread({},song),{},{active:false});}});setSongs(newSongs);if(isPlaying){audioRef.current.play();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function songEndHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(AppContainer,{libraryStatus:libraryStatus,children:[/*#__PURE__*/_jsx(Nav,{libraryStatus:libraryStatus,setLibraryStatus:setLibraryStatus}),/*#__PURE__*/_jsx(Song,{currentSong:currentSong}),/*#__PURE__*/_jsx(Player,{isPlaying:isPlaying,setIsPlaying:setIsPlaying,currentSong:currentSong,setCurrentSong:setCurrentSong,audioRef:audioRef,songInfo:songInfo,setSongInfo:setSongInfo,songs:songs,setSongs:setSongs}),/*#__PURE__*/_jsx(Library,{songs:songs,setCurrentSong:setCurrentSong,audioRef:audioRef,isPlaying:isPlaying,setSongs:setSongs,libraryStatus:libraryStatus}),/*#__PURE__*/_jsx(Credit,{}),/*#__PURE__*/_jsx(\"audio\",{onLoadedMetadata:updateTimeHandler,onTimeUpdate:updateTimeHandler,onEnded:songEndHandler,ref:audioRef,src:currentSong.audio})]});};var AppContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\ttransition: all 0.5s ease;\\n\\tmargin-left: \",\";\\n\\t@media screen and (max-width: 768px) {\\n\\t\\tmargin-left: 0;\\n\\t}\\n\"])),function(p){return p.libraryStatus?\"20rem\":\"0\";});export default App;","map":{"version":3,"sources":["C:/xampp/xamp/htdocs/react-music-player-production/src/App.js"],"names":["React","useState","useRef","styled","Player","Song","Library","Nav","Credit","data","App","audioRef","songs","setSongs","currentSong","setCurrentSong","isPlaying","setIsPlaying","libraryStatus","setLibraryStatus","currentTime","duration","songInfo","setSongInfo","updateTimeHandler","e","target","songEndHandler","currentIndex","findIndex","song","id","nextSong","length","newSongs","map","active","current","play","audio","AppContainer","div","p"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\n\n// Import components\nimport Player from \"./components/Player\";\nimport Song from \"./components/Song\";\nimport Library from \"./components/Library\";\nimport Nav from \"./components/Nav\";\nimport Credit from \"./components/Credit\";\n// Import data\nimport data from \"./data\";\n\nconst App = () => {\n\t// Ref\n\tconst audioRef = useRef(null);\n\n\t// State\n\tconst [songs, setSongs] = useState(data());\n\tconst [currentSong, setCurrentSong] = useState(songs[0]);\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [libraryStatus, setLibraryStatus] = useState(false);\n\tconst [songInfo, setSongInfo] = useState({\n\t\tcurrentTime: 0,\n\t\tduration: 0,\n\t});\n\n\t// Functions\n\tconst updateTimeHandler = (e) => {\n\t\tconst currentTime = e.target.currentTime;\n\t\tconst duration = e.target.duration;\n\t\tsetSongInfo({ ...songInfo, currentTime, duration });\n\t};\n\n\tconst songEndHandler = async () => {\n\t\tlet currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n\t\tlet nextSong = songs[(currentIndex + 1) % songs.length];\n\t\tawait setCurrentSong(nextSong);\n\n\t\tconst newSongs = songs.map((song) => {\n\t\t\tif (song.id === nextSong.id) {\n\t\t\t\treturn {\n\t\t\t\t\t...song,\n\t\t\t\t\tactive: true,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...song,\n\t\t\t\t\tactive: false,\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tsetSongs(newSongs);\n\n\t\tif (isPlaying) {\n\t\t\taudioRef.current.play();\n\t\t}\n\t};\n\n\treturn (\n\t\t<AppContainer libraryStatus={libraryStatus}>\n\t\t\t<Nav libraryStatus={libraryStatus} setLibraryStatus={setLibraryStatus} />\n\t\t\t<Song currentSong={currentSong} />\n\t\t\t<Player\n\t\t\t\tisPlaying={isPlaying}\n\t\t\t\tsetIsPlaying={setIsPlaying}\n\t\t\t\tcurrentSong={currentSong}\n\t\t\t\tsetCurrentSong={setCurrentSong}\n\t\t\t\taudioRef={audioRef}\n\t\t\t\tsongInfo={songInfo}\n\t\t\t\tsetSongInfo={setSongInfo}\n\t\t\t\tsongs={songs}\n\t\t\t\tsetSongs={setSongs}\n\t\t\t/>\n\t\t\t<Library\n\t\t\t\tsongs={songs}\n\t\t\t\tsetCurrentSong={setCurrentSong}\n\t\t\t\taudioRef={audioRef}\n\t\t\t\tisPlaying={isPlaying}\n\t\t\t\tsetSongs={setSongs}\n\t\t\t\tlibraryStatus={libraryStatus}\n\t\t\t/>\n\t\t\t<Credit />\n\t\t\t<audio\n\t\t\t\tonLoadedMetadata={updateTimeHandler}\n\t\t\t\tonTimeUpdate={updateTimeHandler}\n\t\t\t\tonEnded={songEndHandler}\n\t\t\t\tref={audioRef}\n\t\t\t\tsrc={currentSong.audio}\n\t\t\t/>\n\t\t</AppContainer>\n\t);\n};\n\nconst AppContainer = styled.div`\n\ttransition: all 0.5s ease;\n\tmargin-left: ${(p) => (p.libraryStatus ? \"20rem\" : \"0\")};\n\t@media screen and (max-width: 768px) {\n\t\tmargin-left: 0;\n\t}\n`;\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}